
TODO:

 * Registry shouldn't be part of the level class???

Turn logic:

	* Change order of input_events and app_events in poll().
	* Intepret input events when they happen, and queue an "action" to happen
	  in the update phase.

	* Process the action in the update phase.
	* Do we wnat to check that actions are possible immediately?
	* What to do if an action becomes impossible by the player turn?

	* Move actor stuff to a separate file.
	* Add an ai that moves randomly in bounds (for now).

Mouse input:

	* Do pathfinding to locations, and move there... once per turn
	* Clamp the tick rate to a real-time value.

